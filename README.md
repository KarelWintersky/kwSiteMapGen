Все настройки подключения к БД указаны в файле `db.ini`. Предполагается, что конфиг-файлы недоступны посторонним,
но я все равно рекомендую создать для генерации сайтмэпа отдельного пользователя исключительно с правом SELECT:

```
CREATE USER 'sitemapcreator'@'localhost' IDENTIFIED BY 'sitemappassword';
GRANT SELECT ON database.* TO `sitemapcreator`@`localhost`;
FLUSH PRIVELEGES;
```

В файле `sitemap.ini` задаются инструкции по построению сайтмапов по типам страниц. Каждый тип страницы описывается в отдельной секции. Данные по типу могут извлекаться как из БД, так и из статического файла-источника.

Как писать этот конфиг?

## Глобальные настройки
Они задаются в секции с именем ___

```
[___]
; URL сайта (домен, включая финальный слэш)
sitehref = 'http://www.example.com/'

; где лежат файлы сайтмапов (разумеется, мы должны иметь права на запись туда)
sitemaps_storage = '/var/www/example.com/sitemaps/'

; URL (включая домен и финальный слеш) к промежуточным файлам сайтмапов
sitemaps_href = 'http://www.example.com/sitemaps/'

; максимальное количество URL в файле sitemap
limit_urls = 50000

; максимальный размер промежуточного файла sitemap без сжатия
limit_bytes = 50000000

; использовать ли gzip для сжатия
use_gzip = 1
```

## Секция, берущая данные из БД

```
[price]
; корень имени файла, содержащего ссылки для страниц данной категории
; файлы будут иметь вид price-1, price-2 etc
; опцию можно опустить или оставить пустым - тогда оно будет 
; установлено в имя секции
radical = 'price'

; источник данных - sql или file
source = 'sql'

; запрос к БД для получения количества элементов, для которых строим sitemap
sql_count_request = 'SELECT COUNT(id) AS cnt FROM price'

; поле в результатах запроса, содержащее нужное количество
sql_count_value = 'cnt'

; запрос к БД для получения всех нужных нам элементов (исключая LIMIT OFFSET)
sql_data_request = 'SELECT id, lastmod FROM price'

; имя поля в результатах запроса, содержащее айди страницы
sql_data_id = 'id'

; имя поля в результатах запроса, содержащее дату последней модификации 
; страницы. Используется для атрибута lastmod в файле карты.
sql_data_lastmod = 'lastmod'

; ПРИМЕЧАНИЕ:
; запрос может быть и другим, к примеру
; SELECT CONCAT('/page/xxx/', id) AS it, FORMAT_DATE(mask, lastdate) AS pld FROM price
; тогда имена полей с данными должны быть it и pld соотв.

; URL до страницы от корня сайта (исключая домен)
; используется маска для sprintf
url_location = 'price/%s.html'

; приоритет страниц в секции
url_priority = '0.5'

; вероятная частота обновления страниц в этой секции
; допустимые значения:
; always, hourly, daily, weekly, monthly, yearly, never
url_changefreq = 'daily'
```

## Секция, берущая данные из статического файла

```
; страны-регионы
[countries]
; корень имени файла, содержащего ссылки для страниц данной категории
; файлы будут иметь вид countries-1, countries-2 etc
radical = 'countries'

; источник данных
source = 'file'

; имя файла с данными построчно. 
filename = 'countries.txt'

; URL до страницы от корня сайта (исключая домен)
; используется маска для sprintf
url_location = 'countries/%s/'

; приоритет страниц в секции
url_priority = '0.5'

; вероятная частота обновления страниц в этой секции
; допустимые значения:
; always, hourly, daily, weekly, monthly, yearly, never
url_changefreq = 'daily'

; единственное допустимое значение. Означает, что для lastmod ссылки\
; берется текущий таймштамп
lastmod = 'NOW()'
```

## Todo: источник данных - CSV с именованными столбцами

